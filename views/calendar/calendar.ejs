<div id="calendar"></div>

<dialog id="addShiftModal" class="bg-transparent z-1 relative w-screen h-screen">
    <div class="p-7 flex justify-center items-center fixed left-0 top-0 w-full h-full bg-gray-900 bg-opacity-50 z-50 transition-opacity duration-200 opacity-0">
        <div class="bg-white rounded-lg w-fit relative">
            <div class="flex flex-col items-start">
                <!-- Top of modal -->
                <div class="p-7 flex flex-row items-center w-full">
                    <!-- Title -->
                    <div class="text-gray-900 font-bold text-lg">Add a Shift</div>
                    <!-- X button -->
                    <svg onclick="modalClose('addShiftModal')"
                         class="ml-auto fill-current justify-self-end text-gray-700 w-5 h-5 cursor-pointer"
                         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">
                        <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"/>
                    </svg>
                </div>

                <!-- Beginning of Form content -->
                <form id="addForm" action="/shifts" method="POST" class="px-7 overflow-x-hidden overflow-y-auto"
                      style="max-height: 40vh;">
                    <div class="date-container flex flex-col pb-4 ">
                        <label class="text-gray-800" for="addDatePicker">Shift date:</label>
                        <input type="date" id="addDatePicker" name="date" value="2022-01-01">
                    </div>
                    <div class="site-container">
                        <select required name="siteId" class="form-select appearance-none
                          block
                          w-full
                          px-3
                          py-1.5
                          mb-3
                          text-base
                          font-normal
                          text-gray-700
                          bg-white bg-clip-padding bg-no-repeat
                          border border-solid border-gray-300
                          rounded
                          transition
                          ease-in-out
                          m-0
                          focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none">
                            <option disabled selected value="">Select a Site</option>
                            <option value="1">RCH</option>
                            <option value="2">SMH</option>
                            <option value="3">RH</option>
                        </select>
                    </div>
                    <div class="radio-container">
                        <% for (const shift of ["DAY", "EVENING", "NIGHT"]) { %>
                            <div class="form-check">
                                <input checked type="radio" name="type" id="addRadioDefault<%= shift %>"
                                       value="<%= shift %>"
                                       class="form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-700 checked:border-blue-700 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer">
                                <label class="form-check-label inline-block text-gray-800"
                                       for="addRadioDefault<%= shift %>">
                                    <%= shift %>
                                </label>
                            </div>
                        <% } %>
                    </div>
                    <input type="hidden" name="userId" value="<%= user.id %>">
                </form>
                <!-- Bottom of modal -->
                <div class="p-7 flex justify-start items-center w-full">
                    <input type="submit" form="addForm" value="Add Shift"
                           class="save-button bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-3">
                    <button type="button" onclick="modalClose('addShiftModal')"
                            class="bg-transparent hover:bg-gray-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
</dialog>

<dialog id="editShiftModal" class="bg-transparent z-1 relative w-screen h-screen">
    <div class="p-7 flex justify-center items-center fixed left-0 top-0 w-full h-full bg-gray-900 bg-opacity-50 z-50 transition-opacity duration-200 opacity-0">
        <div class="bg-white rounded-lg w-fit relative">
            <div class="flex flex-col items-start">
                <!-- Top of modal -->
                <div class="p-7 flex flex-row items-center w-full">
                    <!-- Title -->
                    <div class="text-gray-900 font-bold text-lg">Edit a Shift
                    </div>
                    <!-- X button -->
                    <svg onclick="modalClose('editShiftModal')"
                         class="ml-auto fill-current justify-self-end text-gray-700 w-5 h-5 cursor-pointer"
                         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">
                        <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"/>
                    </svg>
                </div>

                <!-- Beginning of Form content -->
                <form id="editForm" action="/shifts" method="POST" class="px-7 overflow-x-hidden overflow-y-auto"
                      style="max-height: 40vh;">
                    <div class="date-container flex flex-col pb-4 text-gray-400">
                        <label class="text-gray-800" for="editDatePicker">Shift date:</label>
                        <input type="hidden" name="date" id="editDateValue" value="2022-01-01">
                        <input disabled type="date" id="editDatePicker" class="text-gray-400" value="2022-01-01">
                    </div>
                    <div class="site-container">
                        <select required name="siteId" class="form-select appearance-none
                          block
                          w-full
                          px-3
                          py-1.5
                          mb-3
                          text-base
                          font-normal
                          text-gray-700
                          bg-white bg-clip-padding bg-no-repeat
                          border border-solid border-gray-300
                          rounded
                          transition
                          ease-in-out
                          m-0
                          focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none">
                            <option disabled selected value="">Select a Site</option>
                            <option value="1">RCH</option>
                            <option value="2">SMH</option>
                            <option value="3">RH</option>
                        </select>
                    </div>
                    <div class="radio-container">
                        <% for (const shift of ["DAY", "EVENING", "NIGHT"]) { %>
                            <div class="form-check">
                                <input checked type="radio" name="type" id="addRadioDefault<%= shift %>"
                                       value="<%= shift %>"
                                       class="form-check-input appearance-none rounded-full h-4 w-4 border border-gray-300 bg-white checked:bg-blue-700 checked:border-blue-700 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer">
                                <label class="form-check-label inline-block text-gray-800"
                                       for="addRadioDefault<%= shift %>">
                                    <%= shift %>
                                </label>
                            </div>
                        <% } %>
                    </div>
                    <input type="hidden" name="userId" value="<%= user.id %>">
                </form>
                <!-- Bottom of modal -->
                <div class="px-7 pt-5 pb-7 flex justify-start items-center w-full">
                    <input type="submit" form="editForm" value="Save Changes"
                           class="save-button bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-3">
                    <button type="button" onclick="deleteModal()"
                    class="bg-red-600 text-white font-semibold hover:text-white hover:bg-red-700 py-2 px-4 mr-3 border border-red-500 hover:border-transparent rounded">
                    Delete Shift
                    </button>
                    <button type="button" onclick="modalClose('editShiftModal')"
                            class="bg-transparent hover:bg-gray-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
</dialog>

<dialog id="deleteShiftModal" class="bg-transparent z-1 relative w-screen h-screen">
    <div class="p-7 flex justify-center items-center fixed left-0 top-0 w-full h-full bg-gray-900 bg-opacity-50 z-50 transition-opacity duration-200 opacity-0">
        <div class="bg-white rounded-lg w-fit relative">
            <div class="flex flex-col items-start">
                <!-- Top of modal -->
                <div class="px-7 pt-7 flex flex-row items-center w-full">
                    <!-- Title -->
                    <div class="text-gray-900 font-bold text-lg">Delete Shift Confirmation
                    </div>
                    <!-- X button -->
                    <svg onclick="modalClose('deleteShiftModal')"
                         class="ml-auto fill-current justify-self-end text-gray-700 w-5 h-5 cursor-pointer"
                         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">
                        <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"/>
                    </svg>
                </div>
                <div class="px-7 pb-3 flex justify-start items-center w-full">
                    <p class="whitespace-pre-line text-gray-500">
                        Are you sure you want to delete this shift? 
                        Your request will be sent to your instructor for confirmation.
                    </p>
                </div>
                <!-- Beginning of Form content -->
                <form id="deleteForm" action="/shifts" method="POST">                   
                </form>
                <!-- Bottom of modal -->
                <div class="px-7 pt-1 pb-7 flex justify-start items-center w-full">
                    <button type="submit" disabled form="deleteForm" class="w-full inline-flex justify-center rounded-md border border-transparent 
                    shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none 
                    focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:w-auto sm:text-sm">
                    Delete
                    </button>
                    <button type="button" onclick="modalClose('deleteShiftModal')" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300
                    shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-100 focus:outline-none
                    focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                    Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
</dialog>